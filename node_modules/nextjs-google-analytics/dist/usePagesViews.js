"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.usePagesViews = void 0;
const react_1 = require("react");
const router_1 = require("next/router");
const gtag_1 = require("./gtag");
function usePagesViews() {
    const router = (0, router_1.useRouter)();
    (0, react_1.useEffect)(() => {
        const handleRouteChange = (url) => {
            if (!process.env.NEXT_PUBLIC_GA_MEASUREMENT_ID) {
                return;
            }
            (0, gtag_1.pageView)({ path: url.toString() });
        };
        router.events.on("routeChangeComplete", handleRouteChange);
        return () => {
            router.events.off("routeChangeComplete", handleRouteChange);
        };
    }, [router.events]);
}
exports.usePagesViews = usePagesViews;
//# sourceMappingURL=usePagesViews.js.map